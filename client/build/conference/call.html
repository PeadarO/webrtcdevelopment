<html lang=en>
<head>
    <title>Miljul.in - Talk Live. Share Easy.</title>
    <meta http-equiv=Content-Type content="text/html; charset=UTF-8">
    <meta charset=utf-8>
    <meta name=viewport content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="Miljul is an innovative collaboration platform offering real time video & audio communication with users worldwide. With fast, secure, high quality communication from the browser, without any installation, Miljul opens countless possibilities. Miljul is based on Web Real Time Communication (WebRTC), an open source technology that is transforming interpersonal and enterprise communication and collaboration.">
    <meta name=keywords content="WebRTC, WebRTC India, Miljul, Miljul.in, Video Conferencing, WebRTC Asia, Web Conferencing, Video Conference, Web Conference,Video Collaboration, Real Time Communication, Free Screen Share, Free Video Calls">
    <meta property=og:image content="https://www.miljul.in/images/logo.png">

    <link rel="shortcut icon" href="logo.ico">
    <link rel=author type=text/html href="https://www.miljul.in:5556">
    <meta name=author content="Team Miljul">
    <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1">

    <link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/pmcehcchogemjkgofbnlhfdlgoedkpoa">
    <link rel="alternate" href="https://www.miljul.in:5556" hreflang="en" />

    <link rel=stylesheet href="../minScripts/webrtcdevelopment_header.css">
    <script src="../minScripts/webrtcdevelopment_header.js"> </script>

    <style type="text/css">
        #videoHold ul li,
        aside {
            float: left
        }
        #mainWrap {
            height: 100%;
            width: 100%;
            left: 0;
            top: 0;
            overflow: hidden
        }
        aside {
            width: 5%;
            color: #fff;
            background-color: #000;
            height: 100%
        }
        #asideIconHold {
            padding: 0;
            margin: 100px 20px;
            list-style: none
        }
        #asideIconHold li {
            padding: 10px 0
        }
        #asideIconHold li a {
            text-decoration: none;
            color: #fff;
            font-size: 20px
        }
        section {
            width: 90%;
            padding: 30px 0;
            display: block
        }


        #topIconHolder {
            background: rgba(0, 0, 0, .6);
            border-radius: 5px;
            height: 40px;
            line-height: 40px;
            position: absolute;
            top: 20px;
            /*width: 310px*/
            width: 40%;
            margin: 0 30%;
        }
        #topIconHolder ul {
            padding: 0;
            margin: 0;
            list-style: none
        }
        #topIconHolder ul li {
            float: left;
            display: block;
            cursor: pointer;
            padding: 0 23px
        }
        #topIconHolder ul li a {
            color: #fff;
            position: relative
        }



        .slash:after {
            content: "\\";
            color: #fff;
            font-size: 32px;
            font-weight: 700;
            left: 2px;
            position: absolute;
            top: -10px;
            transform: rotate(-30deg)
        }
        #videoHold {
            margin: 50px 35%;
            width: 800px
        }
        #videoHold ul {
            padding: 0;
            margin: 0;
            list-style: none
        }
        #max_vid {
            border: 1px solid #fff;
            width: 800px;
            height: 400px;
            max-height: 400px;
            display: block
        }
        .bgc {
            background-color: #4FC3F7
        }

        body{
            background: #2B2B2B;
            overflow: hidden;
        }
        .fileViewing1Box{
            background-color: transparent;
        }
        .filesharing1Box{
            background-color: transparent;
        }

        #asideIconHold li:hover,
        .glyphicon {
            cursor: pointer
        }
        #asideIconHold li a,
        .sidebar-name a,
        .small-screen-social-icon-wrapper li a {
            text-decoration: none
        }
        #mainWrap {
            background-color: #3D3D3D;
            padding: 0;
            margin: 0;
            height: 100%;
            width: 100%;
            left: 0;
            top: 0;
            display: none
        }

        asideright {
            width: 20%;
            color: #fff;
            background-color: #181818;
            float: right;
            height: 100%;
            padding: 23px;
            line-height: 34px;
        }

        aside {
            width: 5%;
            color: #fff;
            background-color: #181818;
            /*background-color: #828282;*/
            float: left;
            height: 100%
        }
        #asideIconHold {
            padding: 0;
            margin: 80px 10px;
            list-style: none;
            text-align: center
        }
        #asideIconHold li {
            padding: 20px 0
        }
        #asideIconHold li a {
            color: #fff;
            font-size: 20px
        }
        section {
            display: block;
            float: left;
            padding: 0;
            margin: 0;
            width: 95%
        }
        #contentWrap {
            margin: 0;
            width: 100%;
            position: relative
        }

        #bottomIconHolder {
            background: rgba(0, 0, 0, .6);
            /*border-radius: 5px;*/
            height: 40px;
            /*left: 40%;*/
            line-height: 40px;
            position: fixed;
            bottom: 0px;
            width: 100%
        }
        #bottomIconHolder ul {
            padding: 0;
            margin: 0;
            list-style: none
        }
        #bottomIconHolder ul li {
            float: left;
            display: block;
            cursor: pointer;
            padding: 0 23px
        }
        #bottomIconHolder ul li a {
            color: #fff;
            position: relative
        }


        .slash:after {
            content: "\\";
            color: #fff;
            font-size: 32px;
            font-weight: 700;
            left: 2px;
            position: absolute;
            top: -11px;
            transform: rotate(-30deg)
        }
        #videoHold {
            left: 4%;
            padding: 0;
            position: absolute;
            top: 70px;
         height:80%;
         margin-left: 10%;
        }
        #videoHold ul,
        .video {
            width: 100%;
            height: 100%
        }
        #videoHold ul {
            padding: 0;
            margin: 0;
            list-style: none;
            position: relative
        }
        #videoHold ul li {
            float: left
        }

        video{
            background-color: rgb(0, 0, 0);
            width: 80%;
            border-radius: 65px;
            margin: 0px !important;
        }

        .video {
            position: absolute;
            top: 0;
            left: 0;
            background-color: #000;
            transition: width .5s ease
        }

        video::-webkit-media-controls-fullscreen-button {
            
        }
        video::-webkit-media-controls-play-button {
           display: none;
        }

        video::-webkit-media-controls-play-button {
            display: none;
        }
        video::-webkit-media-controls-timeline {
            display: none;
        }

        video::-webkit-media-controls-current-time-display{
            display: none;
        }

        video::-webkit-media-controls-time-remaining-display {
            display: none;
        }
        video::-webkit-media-controls-time-remaining-display {
            display: none;
        }
        video::-webkit-media-controls-mute-button {
            display: none;
        }
        video::-webkit-media-controls-toggle-closed-captions-button {
            display: none;
        }
        video::-webkit-media-controls-volume-slider {}


        .small-screen-social-icon-wrapper {
            width: 100%;
            padding: 0
        }
        .small-screen-social-icon-wrapper li {
            list-style: none;
            float: left;
            padding: 0 10px;
            height: 40px;
            width: 40px
        }
        .modal-body {
            font-size: 13px;
            font-weight: 700;
            margin: 0 auto;
            text-align: center
        }
        .modal-body input {
            font-weight: 0
        }
        .modal-footer {
            text-align: left
        }
        @media only screen and (max-width: 540px) {
            .chat-popup,
            .chat-sidebar {
                display: none!important
            }
        }
        .chat-sidebar {
            width: 200px;
            position: fixed;
            height: 100%;
            right: 0;
            top: 0;
            padding-top: 10px;
            padding-bottom: 10px;
            border: 1px solid rgba(29, 49, 91, .3)
        }
        .sidebar-name {
            padding-left: 10px;
            padding-right: 10px;
            margin-bottom: 4px;
            font-size: 12px
        }
        .sidebar-name span {
            padding-left: 5px
        }
        .sidebar-name a {
            display: block;
            height: 100%;
            color: inherit
        }
        .sidebar-name:hover {
            background-color: #e1e2e5
        }
        .sidebar-name img {
            width: 32px;
            height: 32px;
            vertical-align: middle
        }
        .popup-box {
            position: fixed;
            /*bottom: 0;*/
            /*bottom :60px;*/
            bottom :12%;
            right: 10px;
            height: 400px;
            background-color: #edeff4;
            width: 300px
        }
        .popup-box .popup-head {
            background-color: #4fc3f7;
            padding: 15px;
            height: 50px;
            width: 100%;
            float: left;
            color: #fff;
            font-weight: 700;
            font-size: 14px;
            clear: both;
            position: initial!important;
            border-bottom: 1px solid #fff
        }
        .popup-box .popup-head .popup-head-left {
            float: left
        }
        .popup-box .popup-head .popup-head-right {
            float: right;
            height: 20px;
            width: 20px;
            text-align: center
        }
        .popup-head-right:hover {
            background-color: #fff;
            color: #4fc3f7
        }
        .popup-box .popup-head .popup-head-right a {
            text-decoration: none;
            color: inherit
        }
        .popup-box .popup-messages {
            height: 300px;
            width: 100%;
            float: left;
            overflow-y: auto;
            position: initial!important;
            background-color: #fff
        }
        .fa {
            line-height: 2.4
        }
        .popup-box .main-input-box {
            height: 50px;
            width: 100%;
            float: left
        }
        .popup-box .main-input-box input[type=text] {
            width: 100%;
            height: 100%;
            border: 0;
            font-size: 15px;
            text-indent: 10px;
            background-color: #F2F7F9;
            color: #000;
            line-height: 50px;
            font-weight: 500
        }
        .user-activity {
            background-color: #CFE3FE;
            line-height: 1.28;
            color: #3D3D3D;
            min-height: 50px;
            width: 75%;
            box-shadow: 3px 2px 6px #ccc;
            padding: 5px;
            margin: 5px 10px;
            border-radius: 5px;
            position: relative
        }
        .user-activity-left:after,
        .user-activity-right:after {
            position: absolute;
            content: "";
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            top: 6px
        }
        .user-activity-right {
            float: right!important;
            box-shadow: -2px 2px 5px #3D3D3D
        }
        .user-activity-left {
            float: left!important;
            box-shadow: 2px 2px 5px #3D3D3D
        }
        .user-activity-left:after {
            border-right: 10px solid #CFE3FE;
            left: -9px
        }
        .user-activity-right:after {
            border-left: 10px solid #CFE3FE;
            right: -9px
        }
        .chatusername {
            font-size: 13px;
            color: #9D0C0C;
            font-weight: 600;
            font-stretch: expanded;
            font-style: italic
        }
        .userchatmsg {
            font-size: 12px;
            color: #000;
            font-weight: lighter;
            font-style: oblique;
            text-rendering: optimizeSpeed;
            white-space: pre-line;
            word-wrap: break-word
        }
        .max_vid {
            position: absolute;
            bottom: 10px;
            right: 10px;
            height: 40px;
            width: 40px;
            background-color: rgba(0, 0, 0, .8);
            border-radius: 20px;
            line-height: 40px;
            text-align: center;
            vertical-align: middle;
            color: #fff;
            font-size: 20px;
            font-weight: 700
        }
        .glyphicon {
            line-height: 38px!important
        }
        #fullScreen {
            display: none;
            position: relative;
            background-color: orange
        }
        #inlineVidWrap {
            position: absolute;
            bottom: 30px;
            left: 30px
        }
        .inlineVid {
            width: 200px;
            border: 1px solid #00f;
            margin: 0 20px;
            display: inline-block
        }
        :fullscreen {
            position: fixed!important;
            top: 0!important;
            right: 0!important;
            bottom: 0!important;
            left: 0!important;
            margin: 0!important;
            box-sizing: border-box!important;
            width: 100%!important;
            height: 100%!important;
            object-fit: contain!important
        }
        :-webkit-full-screen {
            background: orange;
            width: 100%;
            height: 100%
        }

        .custom_wrapper {
            position: relative;
            width: 380px;
            height: 285px;
            margin: 2px
        }
        .anim {
            width: 25%!important;
            height: 25%!important;
            z-index: 200
        }
        .screen {
            position: absolute;
            top: 0;
            left: 0
        }
        .bgc {
            background-color: #4FC3F7
        }
        #invitationemail {
            font-size: 12px
        }
    </style>

    <link rel="stylesheet" href="css/scrol-bars.css">
    <link rel="stylesheet" href="css/room.css">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/smallscreen.css" type=text/css > 
</head>

<body id="pagebody">

    <div  id="mainWrap" class="container-fluid" style="display: block;">
        
        <aside>
            <ul id="asideIconHold">
                <li style="cursor:default;"><b>INVITE</b></li>
                
                <li id="sendlink" title="Send mail from Miljul" data-placement="right" data-toggle="modal" data-target=#mailpopup>
                    <i class="fa fa-envelope-o fa-lg"></i>
                </li>
                
                <li id="sendmail" title="Send mail from your inbox" data-placement=right onclick="openEmailClientWithRoomLink();">
                    <i class="fa fa-inbox fa-lg"></i>
                </li>
                
                <li id="copylinkimg" data-clipboard-text="Copy Me!" title="Copy Link" data-placement="right">
                    <i id="copylink"  data-clipboard-target="currenturl" class="fa fa-link fa-lg zero-copy"></i>
                </li>
            </ul>
        </aside>

        <div class=alert-wrap hidden="true">
            <div hidden="true" class="alert alert-warning" role=alert style="float: right; width: auto; display: none;position: absolute; top:10;right:10"></div>
        </div>

        <section><span class=logo1>&nbsp;</span>
            
            <div class="small-logo-holder" style="display:none;">
                <div class="small-logo"><img src="images/logo.png" alt=miljul></div>
            </div>

            <div id="contentWrap">

                <!-- top bar -->
                <div id="topIconHolder" class="content-body row topPanelClass">
                    <ul id="topIconHolder_ul">
                        
                        <!--                
                        <li style="display:none">
                            <a id="allow-mic" data-val="mute" title="Mic" data-placement="bottom">
                                <i class="fa fa-microphone"></i>
                            </a>
                        </li>
                        
                        <li style="display:none">
                            <a id="allow-webcam" data-val="mute" title="Camera" data-placement=bottom>
                                <i class="fa fa-video-camera"></i>
                            </a>
                        </li> -->
                        <li data-target=#mailpopup>
                            <a id="allow-webcam" data-val="mute" title="Camera" data-placement=bottom>
                                <i class="fa fa-video-camera"></i>
                            </a>
                        </li>

                        <li id="extension_installed"  style="display:none">
                            <a id="allow-screen" title="Screen Share" data-placement="bottom" class="slash">
                                <i class="fa fa-desktop"></i>
                            </a>
                        </li>
                        
                        <li id="install-extension">
                            <a id="install-allow-screen" title="Screen Share" data-placement="bottom" class="slash">
                                <i class="fa fa-desktop"></i>
                                <a href="#" onclick="chrome.webstore.install()" id="install-link">..</a>
                            </a>
                        </li>
                                            
                        <li>
                            <a id="chat" title="Chat" data-placement="bottom" onclick="toggle_chat_popup();">
                                <i class="fa fa-weixin"></i>
                            </a>
                        </li>
                        
                        <li>
                            <a href="/" id="phone" title="End Call" data-placement=bottom style=color:red;>
                                <i class="fa fa-phone fa-flip-horizontal"></i>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- users -->
                <div id="videoHold" class="content-body" style="">
                    <ul class="users-container"></ul>
                </div> 
            </div>
        </section>

        <!-- .............alerts................. -->
        
        <div class="row" id="alertBox" hidden="true"></div>

        <!-- .......................... Row ................................ -->
        <div class="row thirdPanelClass"> 
            <div class="col-xs-12 videoBox merge" id="videoHold">
                <div class="row users-container merge" id="usersContainer" >
                    <div class="CardClass" id="card">

                        <!-- when no remote -->
                        <div id="singleVideoContainer" class="row" hidden>
                            <div class="col-sm-2 merge text-success" > Waiting  ! </div>
                            <div class="col-sm-8 merge "> <video name="myAloneVideo" autoplay="autoplay" muted="true" /></div>
                            <div class="col-sm-2 merge text-info" > You are the only one in the session ...</div>
                        </div>

                        <!-- when remote is connected -->
                        <div id ="confVideoContainer"  class="row" hidden >
                            <div class="col-sm-4 merge" class="leftVideoClass" id="userVideo">
                                <video name="myConferenceVideo" autoplay="autoplay" muted="true" />
                            </div>

                            <div class="col-sm-4 merge" class="rightVideoClass" id="othersVideo">
                                <video name="otherConferenceVideo" autoplay="autoplay" />
                            </div>
                        </div>
                    </div>
                </div>
            </div> 
        </div>

        <div id="chatContainer" class="popup-box chat-popup" style="display: initial; top:50px">
                
                <div class="popup-head">
                    <div class="popup-head-left">Miljul Chat</div>
                    <div class="popup-head-right"><a href="javascript:toggle_chat_popup();">✕</a></div>
                    <div style="clear: both"></div>
                </div>
                
                <div class="popup-messages">
                    <div id="chatBoard" id="all-messages" style="padding:5px;"></div>
                </div>
                
                <div class="main-input-box">
                    <input id="chatInputText" type="text" style="width:80%;" placeholder="Type message and press Enter">
                    
                    <div class="image-upload" style="width: 10%; float: right;">
                        <label for="file-input" class="glyphicon glyphicon-paperclip">  </label>
                        <input id="file-input" type="file">
                    </div>

                    <p id="whoTyping"></p>

                </div>

                <div style="background-color: rgb(171, 188, 196);">
                    <!-- <input style="color:#000000;margin-left: 30px;" type="file" id="file"> -->
                    <div style="color:#FFF;height:20px" id="file-progress"></div>
                </div>

                <div id="fileSharingRow" class="row fileSharingRow"> </div>
                <div id="fileListingRow" class="row">  </div>
        </div>

        <!--modal help -->
        <div class="modal fade" id="helpModal" role="dialog">
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Help</h4>
                </div>
                <div class="modal-body">
                  <p>WebRTC Runs in only https due to getusermedia security contraints </p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
        </div>
    </div>

    <!-- mail popups -->
    <div class="modal" id="mailpopup">
        <div class="modal-dialog" style="width:400px;">
            <div class="modal-content">
                <div class="modal-body">                        
                    <div style="padding:4px;width:100%;text-align:left;">
                        <p>Enter Email Ids</p>
                    </div>
                    
                    <input id="invitationemail" type=text class="form-control" placeholder="Enter Email Ids of participants separated by comma." autofocus="">
                    <br>
                
                </div>

                <div class="modal-footer">
                    
                    <button id="invite" type="button" class="btn btn-success">Send Invite</button> 
                    
                    <button id="closemodel" type="button" class="btn btn-default" data-dismiss=modal>Close</button>
                        
                </div>
                    
            </div>
        </div>
    </div>
</body>

<script src="../property.js"></script>
<link rel=stylesheet href="../minScripts/webrtcdevelopment.css">
<script src="../minScripts/webrtcdevelopment.js"></script>
<script src="../scripts/start.js"></script> 

<script>
$('document').ready(function(){
    sessionid = init(true);

    var searchParams = new URLSearchParams(window.location);
    var role="participant",out_A=true, out_V=true ;

    if(searchParams.get('audio')=="0"){
        out_A=false;
    }

    if(searchParams.get('video')=="0"){
        out_V=false;
    }

    if(searchParams.get('name')){
        username=searchParams.get('name');
    }else{
        username="User Name here";
    }

    if(searchParams.get('email')){
        useremail=searchParams.get('email');
    }else{
        useremail="abc@gmail.com";
    }

    var webrtcdomobj;

    console.log("searchParams" , searchParams);

    var local={
        video: "myAloneVideo",
        videoClass:"",
        videoContainer : "singleVideoContainer",
        userDisplay:false,
        userMetaDisplay:false,
        userdetails:{
            username: username,
            usercolor: "#DDECEF",
            useremail: useremail
        }
    };

    var remote={
        videoarr: ["myConferenceVideo", "otherConferenceVideo"],
        videoClass:"",
        maxAllowed: "6",
        videoContainer : "confVideoContainer",
        userDisplay:false,
        userMetaDisplay:false,
        dynamicVideos: false 
    };

    var incoming={
        audio:  true,
        video:  true,
        data:   true,
        screen: true
    };

    var outgoing={
        audio:  true,
        video:  true,
        data:   true,
        screen: true
    };

    webrtcdomobj= new WebRTCdom(
        local, remote, incoming, outgoing
    );

    var session ={
        sessionid : sessionid,
        socketAddr: props.signaller,
        turn:{
                username    : props.xirsys.username,
                secretkey   : props.xirsys.secretkey,
                domain      : props.xirsys.domain,
                application : props.xirsys.application,
                room        : props.xirsys.room,
                secure      : props.xirsys.secure
            }
    };
    

    var widgets={
        debug      : false,
        reconnect   :{
                        active: false,
                        button:{
                            id: "reconnectBtn",
                            class:"btn btn-success glyphicon glyphicon-refresh topPanelButton",
                            html:"Reconnect",
                            resyncfiles:false
                        }
                    },
        timer      :{
                        active:false,
                        type: "backward",
                        upperlimit: {
                            hour:0 , 
                            min: 3 , 
                            sec: 0 
                        },
                        span:{
                            currentTime_id:"currentTimeArea",
                            currentTimeZonr_id:"currentTimeZoneArea",
                            class_on:""
                        }
                    },
        chat    :{
                        active: true,
                        container: {
                            id: "chatContainer"
                        },
                        inputBox:{
                            text_id:"chatInputText",
                            sendbutton_id:"chatSendButton"
                        },
                        chatBox:{
                            id: "chatBoard"
                        },
                        button:{
                            class_on:"btn btn-warning glyphicon glyphicon-font topPanelButton",
                            html_on:"Chat",
                            class_off:"btn btn-success glyphicon glyphicon-font topPanelButton",
                            html_off:"Chat"
                        }
                },
        fileShare :{
                      active : true,
                      fileShareContainer : "fileSharingRow",
                      fileListContainer : "fileListingRow",
                      button:{
                          id: "file-input",
                          class:"btn btn-success glyphicon glyphicon-file topPanelButton",
                          html:"File"
                      },
                      props:{
                          fileShare:"divided",
                          fileList:"divided"
                      }
                  },
        mute    :{
                    active: true,
                    audio   :{
                            active: true,
                            button:{
                                class_on:"pull-right btn btn-modify-video2 videoButtonClass ",
                                html_on:"mic",
                                class_off:"pull-right btn btn-modify-video2 videoButtonClass ",
                                html_off:"mic"
                            }
                        },
                    video : {
                            active: true,
                            button:{
                                class_on:"pull-right btn btn-modify-video2 videoButtonClass ",
                                html_on:"cam",
                                class_off:"pull-right btn btn-modify-video2 videoButtonClass ",
                                html_off:"cam"
                            }
                        }
                },
        videoRecord :{
                        active: true,
                        videoRecordContainer: true,
                        button:{
                            class_on:"pull-right btn btn-modify-video2 videoButtonClass",
                            html_on:"rec",
                            class_off:"pull-right btn btn-modify-video2 videoButtonClass",
                            html_off:"rec"
                        }
                    },
        snapshot :{
                        active: true,
                        snapshotContainer: true,
                        button:{
                            class_on:"pull-right btn btn-modify-video2 videoButtonClass",
                            html_on:"pic"
                        }
                    }, 
    };

    var webrtcdevobj = new WebRTCdev ( 
        session, widgets
    );
    startcall(webrtcdevobj);
});
</script>
</html>