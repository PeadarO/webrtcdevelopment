function clearList(e){$("#"+e).empty()}function drawList(e,t){$("#"+e).append("<li class='list-group-item'>"+t+"</li>")}function drawTable(e){var t=document.getElementById("webrtcdevTableBody");for(i in Object.keys(e)){var a=Object.keys(e)[i];drawTableRow(t,e[a].channel,e[a].timestamp,e[a].users,e[a].status,e[a].endtimestamp,0)}}function drawTableRow(e,t,a,n,s,r,i){var c=$("<tr class='success' />");c.append($("<td>"+t+"</td>")),c.append($("<td>"+a+"</td>")),c.append($("<td>"+JSON.stringify(n,null,4)+"</td>")),c.append($("<td>"+s+"</td>")),c.append($("<td>"+r+"</td>")),c.append($("<td>"+i+"</td>")),e.append(c)}function drawUsersTable(e){var t=document.createElement("table");$("#usersRow").append(t);for(var a=0;a<e.length;a++)drawUsersRow(t,data[a])}function drawUsersRow(e){var t=$("<tr />");$("#table").append(t),t.append($("<td>"+e+"</td>"))}var socket,webrtcdevDataObj,usersDataObj,WebRTCdevadmin=function(e){socket=io.connect(e),socket.on("response_to_admin_enquire",function(e){switch(e.response){case"channels":if(webrtcdevDataObj=e.channels,"list"==e.format){clearList("listArea");for(i in Object.keys(webrtcdevDataObj))drawList("listArea",Object.keys(webrtcdevDataObj)[i])}else"table"==e.format?drawTable(webrtcdevDataObj):"json"==e.format?(webrtcdevDataObj=e.channels,document.getElementById("channelsFeed").innerHTML=JSON.stringify(webrtcdevDataObj,null,4)):console.error("format not specified ");break;case"users":if(usersDataObj=e.users,"list"==e.format){clearList("userslistArea");for(i in usersDataObj)drawList("userslistArea",usersDataObj[i])}break;default:console.log("unrecognizable response from siagnaller ")}})};$("#channels_list").click(function(){socket.emit("admin_enquire",{ask:"channels",format:"list"})}),$("#users_list").click(function(){socket.emit("admin_enquire",{ask:"users",format:"list"})}),$("#channels_table").click(function(){socket.emit("admin_enquire",{ask:"channels",format:"table"})}),$("#channels_json").click(function(){socket.emit("admin_enquire",{ask:"channels",format:"json"})}),$("#channel_clients").click(function(){socket.emit("admin_enquire",{ask:"channel_clients",channel:"https172162010780841524489749781952"})});